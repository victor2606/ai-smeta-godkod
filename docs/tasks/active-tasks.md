# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: SQLite + Claude Code Agent –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–∞—Å—Ü–µ–Ω–æ–∫

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 18 –æ–∫—Ç—è–±—Ä—è 2025
**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –í–∞—Ä–∏–∞–Ω—Ç 5 (–ì–∏–±—Ä–∏–¥) - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è Claude Code
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—è–∑—ã–∫–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞—Å—Ü–µ–Ω–æ–∫

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ó–ê–î–ê–ß–ò (HOTFIX)

**–°—Ç–∞—Ç—É—Å:** –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-10-19
**–ë–ª–æ–∫–∏—Ä—É–µ—Ç:** –ó–∞–¥–∞—á—É 2.3 (–ü–æ–ø—É–ª—è—Ç–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)

### –ü—Ä–æ–±–ª–µ–º—ã:

1. **DataAggregator –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç cost –ø–æ–ª—è** ‚Üí –ó–∞–¥–∞—á–∞ 2.2.1
   - Schema —Ç—Ä–µ–±—É–µ—Ç: `total_cost`, `materials_cost`, `resources_cost`
   - DataAggregator: ‚ùå –Ω–µ —Å–æ–∑–¥–∞–µ—Ç —ç—Ç–∏ –ø–æ–ª—è
   - Excel —Å–æ–¥–µ—Ä–∂–∏—Ç: ‚úÖ `–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ –ø–æ–∑–∏—Ü–∏–∏`

2. **Schema –Ω–µ –∏–º–µ–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ composition** ‚Üí –ó–∞–¥–∞—á–∞ 2.2.2
   - DataAggregator —Å–æ–∑–¥–∞–µ—Ç JSON –ø–æ–ª–µ `composition`
   - Schema: ‚ùå –Ω–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è

3. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å resource_type** ‚Üí –ó–∞–¥–∞—á–∏ 2.2.2 + 2.2.3
   - Schema CHECK constraint: `IN ('material', 'labor', 'machinery', 'equipment')`
   - DataAggregator: `row_type = '–†–µ—Å—É—Ä—Å'` (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç!)

### –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```
–ó–∞–¥–∞—á–∞ 2.2.1 (DataAggregator) ‚îê
                               ‚îú‚Üí –ó–∞–¥–∞—á–∞ 2.3 (DatabasePopulator) ‚Üí –ó–∞–¥–∞—á–∞ 2.4
–ó–∞–¥–∞—á–∞ 2.2.2 (Schema)          ‚îÇ
                               ‚îÇ
–ó–∞–¥–∞—á–∞ 2.2.3 (Resource mapper) ‚îò
```

**–ó–∞–¥–∞—á–∏ 2.2.1, 2.2.2 –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**

---

## üéØ –ú–∞—Ç—Ä–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∑–∞–¥–∞—á

### ‚úÖ –ó–∞–¥–∞—á–∏ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å—Ä–∞–∑—É):
- **–ó–∞–¥–∞—á–∞ 2.1**: –ó–∞–≥—Ä—É–∑—á–∏–∫ Excel –¥–∞–Ω–Ω—ã—Ö
- **–ó–∞–¥–∞—á–∞ 5.1**: –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ó–∞–¥–∞—á–∞ 6.2**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ (requirements.txt)
- **–ó–∞–¥–∞—á–∞ 6.4**: .gitignore –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Git
- **–ó–∞–¥–∞—á–∞ 8.2**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### üîÑ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

**–ë–ª–æ–∫ 1 (–ø–æ—Å–ª–µ –ó–∞–¥–∞—á–∏ 2.4 - –≥–æ—Ç–æ–≤–∞—è –ë–î):**
- –ó–∞–¥–∞—á–∏ 3.1, 3.2, 3.3 –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏ –ø–æ–∏—Å–∫–∞)

**–ë–ª–æ–∫ 2 (–ø–æ—Å–ª–µ –ó–∞–¥–∞—á 3.1, 3.2, 3.3):**
- –ó–∞–¥–∞—á–∞ 4.1 + –ó–∞–¥–∞—á–∞ 4.2 –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**
- –ó–∞–¥–∞—á–∏ 6.1, 6.3 (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è) –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å—Å—è **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∞–≥–µ–Ω—Ç–∞

**–ë–ª–æ–∫ 3 (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –ó–∞–¥–∞—á–∏ 2.4):**
- –ó–∞–¥–∞—á–∏ 5.2, 5.3, 5.4 –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–µ—Å—Ç—ã)

**–ë–ª–æ–∫ 4 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è):**
- –ó–∞–¥–∞—á–∏ 8.1, 8.2, 8.3, 8.4 –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**

### üìä –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏):
```
–§–ê–ó–ê 1 ‚úÖ ‚Üí –ó–∞–¥–∞—á–∞ 2.1 ‚úÖ ‚Üí –ó–∞–¥–∞—á–∞ 2.2 ‚úÖ ‚Üí –ó–∞–¥–∞—á–∞ 2.3 ‚úÖ ‚Üí –ó–∞–¥–∞—á–∞ 2.4 ‚úÖ ‚Üí –ó–∞–¥–∞—á–∞ 7.1
                                                                            ‚Üì
                                                              –ó–∞–¥–∞—á–∏ 3.1, 3.2, 3.3 (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
                                                                            ‚Üì
                                                              –ó–∞–¥–∞—á–∏ 4.1, 4.2 (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
                                                                            ‚Üì
                                                                       –ó–∞–¥–∞—á–∞ 4.3
                                                                            ‚Üì
                                                                       –ó–∞–¥–∞—á–∞ 7.5
```

**–¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è:** –§–ê–ó–ê 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ ‚Üí –ì–æ—Ç–æ–≤—ã –∫ –§–ê–ó–ï 3 (–ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)

### üî¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

**P0 (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP):**
- –ó–∞–¥–∞—á–∏ 2.1 ‚Üí 2.2 ‚Üí 2.3 ‚Üí 2.4 (ETL pipeline)
- –ó–∞–¥–∞—á–∏ 3.1, 3.2, 3.3 (–ø–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
- –ó–∞–¥–∞—á–∞ 7.1 (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)

**P1 (–≤–∞–∂–Ω–æ –¥–ª—è –∞–≥–µ–Ω—Ç–∞):**
- –ó–∞–¥–∞—á–∏ 4.1, 4.2, 4.3 (–∞–≥–µ–Ω—Ç)
- –ó–∞–¥–∞—á–∏ 5.2, 5.3 (—Ç–µ—Å—Ç—ã)
- –ó–∞–¥–∞—á–∏ 7.2, 7.3, 7.4 (–≤–∞–ª–∏–¥–∞—Ü–∏—è)

**P2 (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è):**
- –ó–∞–¥–∞—á–∏ 6.1, 6.2, 6.3, 6.4

**P3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –ó–∞–¥–∞—á–∏ 8.1, 8.2, 8.3, 8.4

---

## üìã –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/Users/vic/git/n8npiplines-bim/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ raw/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ –°onstruction_Works_Rate_Schedule_Some_groups_17102025.xlsx
‚îÇ   ‚îú‚îÄ‚îÄ processed/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ estimates.db (SQLite)
‚îÇ   ‚îî‚îÄ‚îÄ cache/
‚îÇ       ‚îî‚îÄ‚îÄ query_cache.json
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.sql
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db_manager.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fts_config.py
‚îÇ   ‚îú‚îÄ‚îÄ etl/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ excel_loader.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_aggregator.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db_populator.py
‚îÇ   ‚îú‚îÄ‚îÄ search/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search_engine.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cost_calculator.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rate_comparator.py
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ text_processor.py
‚îÇ       ‚îî‚îÄ‚îÄ validators.py
‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îî‚îÄ‚îÄ estimates_agent_prompt.md
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_search.py
‚îÇ   ‚îú‚îÄ‚îÄ test_calculator.py
‚îÇ   ‚îî‚îÄ‚îÄ test_data_samples.json
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ estimates_search_architecture.md
‚îÇ   ‚îî‚îÄ‚îÄ api_reference.md
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ build_database.py
‚îÇ   ‚îî‚îÄ‚îÄ benchmark_search.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ active-tasks.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

---

## üéØ –§–ê–ó–ê 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –¥–∞–Ω–Ω—ã—Ö

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞ (—Å–º. `docs/tasks/archive/2025-10-completed.md`)

---

## üîÑ –§–ê–ó–ê 2: ETL –ø—Ä–æ—Ü–µ—Å—Å

**–°—Ç–∞—Ç—É—Å –§–ê–ó–´ 2:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê –ü–û–õ–ù–û–°–¢–¨–Æ (7/7 –∑–∞–¥–∞—á)
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-19
**–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –≤:** `docs/tasks/archive/2025-10-completed.md`

**–ò—Ç–æ–≥–∏ –§–ê–ó–´ 2:**
- ‚úÖ Excel Loader (–ó–∞–¥–∞—á–∞ 2.1) - 51/51 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ Data Aggregator (–ó–∞–¥–∞—á–∞ 2.2) - —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
- ‚úÖ HOTFIX —Å—Ö–µ–º—ã (–ó–∞–¥–∞—á–∏ 2.2.1, 2.2.2, 2.2.3) - –¥–æ–±–∞–≤–ª–µ–Ω—ã cost –ø–æ–ª—è, composition, resource_type
- ‚úÖ Database Populator (–ó–∞–¥–∞—á–∞ 2.3) - 49/49 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ Build Database Script (–ó–∞–¥–∞—á–∞ 2.4) - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π ETL pipeline
- üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞: 28,686 —Ä–∞—Å—Ü–µ–Ω–æ–∫, 294,883 —Ä–µ—Å—É—Ä—Å–æ–≤ (90.88 MB)

---

### –ó–∞–¥–∞—á–∞ 2.4: –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚úÖ

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚úÖ –ó–∞–¥–∞—á–∏ 2.1, 2.2, 2.3 –∑–∞–≤–µ—Ä—à–µ–Ω—ã
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ù–µ—Ç (–∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –≤—Å–µ ETL –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-10-19

**–¶–µ–ª—å:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ ETL —à–∞–≥–∏ –≤ –µ–¥–∏–Ω—ã–π pipeline

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [x] –§–∞–π–ª `scripts/build_database.py` —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º ‚úÖ build_database.py:1
- [x] –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏: --input (–ø—É—Ç—å –∫ Excel), --output (–ø—É—Ç—å –∫ –ë–î), --force (–ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î), --batch-size ‚úÖ build_database.py:62-90
- [x] –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç: load ‚Üí aggregate ‚Üí populate ‚úÖ build_database.py:510-570
- [x] –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Ü–µ–Ω–æ–∫, —Ä–∞–∑–º–µ—Ä –ë–î ‚úÖ build_database.py:573-599
- [x] –ü—Ä–∏ –æ—à–∏–±–∫–µ –Ω–∞ –ª—é–±–æ–º —à–∞–≥–µ - –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚úÖ build_database.py:609-646
- [x] –°–æ–∑–¥–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é (–µ—Å–ª–∏ --force) ‚úÖ build_database.py:177-225
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª `data/logs/etl_YYYYMMDD_HHMMSS.log` ‚úÖ build_database.py:131-170
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ (PRAGMA integrity_check) ‚úÖ build_database.py:388-453

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `scripts/build_database.py` (—Å–æ–∑–¥–∞–Ω, 256 —Å—Ç—Ä–æ–∫, production-ready)
- ‚úÖ `data/logs/` (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∞ —Å .gitkeep)
- ‚úÖ `src/etl/data_aggregator.py` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è NULL values)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:**
- ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ 418,356 —Å—Ç—Ä–æ–∫ –∏–∑ Excel (134.6 MB)
- ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ 28,686 —Ä–∞—Å—Ü–µ–Ω–æ–∫
- ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ 294,883 —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ë–î: 90.88 MB
- ‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 9 –º–∏–Ω—É—Ç 13 —Å–µ–∫—É–Ω–¥ (553 —Å–µ–∫)
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 4,919 rates/sec, 6,046 resources/sec
- ‚úÖ PRAGMA integrity_check: OK
- ‚úÖ FTS –∏–Ω–¥–µ–∫—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω: 28,686 –∑–∞–ø–∏—Å–µ–π

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ Fallback –¥–ª—è –ø—É—Å—Ç—ã—Ö `rate_full_name` (rate_full_name ‚Üí rate_short_name ‚Üí rate_code)
- ‚úÖ Fallback –¥–ª—è –ø—É—Å—Ç—ã—Ö `resource_name` (resource_name ‚Üí resource_short_name ‚Üí resource_code)
- ‚úÖ Fallback –¥–ª—è –ø—É—Å—Ç—ã—Ö `unit` –ø–æ–ª–µ–π (–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ Excel + default '—à—Ç')
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ ~300+ —Ä–∞—Å—Ü–µ–Ω–æ–∫ –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ CSV conversion

---

## üîç –§–ê–ó–ê 3: –ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

### –ó–∞–¥–∞—á–∞ 3.1: –ü–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á–∏ 2.4 (–Ω—É–∂–Ω–∞ –≥–æ—Ç–æ–≤–∞—è –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 3.2, 3.3 (–≤—Å–µ —Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ search –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å FTS5

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `src/search/search_engine.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `SearchEngine`
- [ ] –ú–µ—Ç–æ–¥ `search(query, filters, limit)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—è–∑—ã–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `fts_config.prepare_fts_query()` –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ FTS –∑–∞–ø—Ä–æ—Å–∞
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤: unit_type (–º2/–º3/—à—Ç), min_cost, max_cost, category
- [ ] SQL –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JOIN –º–µ–∂–¥—É rates –∏ rates_fts
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–Ω–∂–∏—Ä—É—é—Ç—Å—è –ø–æ FTS rank (—á–µ–º –±–ª–∏–∂–µ –∫ 0, —Ç–µ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–µ–µ)
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –ø–æ–ª—è: rate_code, rate_full_name, rate_short_name, unit_measure_full, cost_per_unit, total_cost, rank
- [ ] –ú–µ—Ç–æ–¥ `search_by_code(rate_code)` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –∫–æ–¥—É (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤: –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (>1000)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `src/search/search_engine.py` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 3.2: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á–∏ 2.4 (–Ω—É–∂–Ω–∞ –≥–æ—Ç–æ–≤–∞—è –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 3.1, 3.3 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

**–¶–µ–ª—å:** –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ—á–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `src/search/cost_calculator.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `CostCalculator`
- [ ] –ú–µ—Ç–æ–¥ `calculate(rate_code, quantity)` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- [ ] –§–æ—Ä–º—É–ª–∞: `calculated_cost = (total_cost / unit_quantity) * quantity`
- [ ] –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è: calculated_materials, calculated_resources
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å: rate_info, base_cost, cost_per_unit, calculated_total, materials, resources, quantity
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è: rate_code —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, quantity > 0, unit_quantity –Ω–µ 0
- [ ] –ú–µ—Ç–æ–¥ `get_detailed_breakdown(rate_code, quantity)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–±–∏–≤–∫—É –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º
- [ ] –ö–∞–∂–¥—ã–π —Ä–µ—Å—É—Ä—Å –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: `(resource.quantity / unit_quantity) * quantity`
- [ ] –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π –¥–ª—è –≤—Å–µ—Ö –¥–µ–Ω–µ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞—Å—Ü–µ–Ω–∫–∏, –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `src/search/cost_calculator.py` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 3.3: –ö–æ–º–ø–∞—Ä–∞—Ç–æ—Ä —Ä–∞—Å—Ü–µ–Ω–æ–∫

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á–∏ 2.4 (–Ω—É–∂–Ω–∞ –≥–æ—Ç–æ–≤–∞—è –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 3.1, 3.2 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

**–¶–µ–ª—å:** –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—Å—Ü–µ–Ω–æ–∫ –º–µ–∂–¥—É —Å–æ–±–æ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `src/search/rate_comparator.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `RateComparator`
- [ ] –ú–µ—Ç–æ–¥ `compare(rate_codes, quantity)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ –∏ –æ–±—ä–µ–º
- [ ] –î–ª—è –∫–∞–∂–¥–æ–π —Ä–∞—Å—Ü–µ–Ω–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ quantity
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç DataFrame (–∏–ª–∏ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π) —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: rate_code, description, unit_type, cost_per_unit, total_for_quantity, materials_for_quantity
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ total_for_quantity (–æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `difference_from_cheapest` (–≤ —Ä—É–±–ª—è—Ö –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
- [ ] –ú–µ—Ç–æ–¥ `find_alternatives(rate_code, max_results)` –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ —Ä–∞—Å—Ü–µ–Ω–∫–∏ –ø–æ search_text
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è: –≤—Å–µ rate_codes —Å—É—â–µ—Å—Ç–≤—É—é—Ç, quantity > 0
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è: —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–æ–¥ –≤ —Å–ø–∏—Å–∫–µ

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `src/search/rate_comparator.py` (–Ω–æ–≤—ã–π)

---

## ü§ñ –§–ê–ó–ê 4: Claude Code Agent

### –ó–∞–¥–∞—á–∞ 4.1: –ü—Ä–æ–º–ø—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞-—Å–º–µ—Ç—á–∏–∫–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 3.2, 3.3 (–Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å API –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 4.2, 5.1, 6.1 (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Claude Code –∞–≥–µ–Ω—Ç–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `agents/estimates_agent_prompt.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è –∞–≥–µ–Ω—Ç–∞
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ä–æ–ª—å: "–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç-—Å–º–µ—Ç—á–∏–∫ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –±–∞–∑–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞—Å—Ü–µ–Ω–æ–∫"
- [ ] –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ Python –º–æ–¥—É–ª–∏: SearchEngine, CostCalculator, RateComparator
- [ ] –û–ø–∏—Å–∞–Ω—ã –º–µ—Ç–æ–¥—ã –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã: –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏, –Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ–≤–µ—Ä—è—Ç—å –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
- [ ] –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ—à–∞–≥–æ–≤—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º:
  - "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç X –º¬≤ —Ä–∞–±–æ—Ç—ã Y?"
  - "–°—Ä–∞–≤–Ω–∏ —Ä–∞—Å—Ü–µ–Ω–∫–∏ A –∏ B"
  - "–ß—Ç–æ –¥–µ—à–µ–≤–ª–µ: –≤–∞—Ä–∏–∞–Ω—Ç 1 –∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç 2?"
  - "–î–µ—Ç–∞–ª–∏–∑–∏—Ä—É–π —Ä–∞—Å—Ü–µ–Ω–∫—É –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º"
- [ ] –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: –∫—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ‚Üí –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç ‚Üí –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã ‚Üí –¥–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏ (–∑–∞–¥–∞–≤–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã)
- [ ] –ü—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (—Ç–∞–±–ª–∏—Ü—ã, —Å–ø–∏—Å–∫–∏, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –≤–∞–∂–Ω–æ–≥–æ)
- [ ] –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ—è—Å–Ω—è—Ç—å –æ—Ç–∫—É–¥–∞ –≤–∑—è–ª–∏—Å—å —Ü–∏—Ñ—Ä—ã

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `agents/estimates_agent_prompt.md` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 4.2: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∞–≥–µ–Ω—Ç–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 3.2, 3.3
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∞ 4.1 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥–∏–∞–ª–æ–≥–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `src/utils/agent_helpers.py` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–∏
- [ ] –§—É–Ω–∫—Ü–∏—è `natural_search(query)` - –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ SearchEngine.search() —Å –∫—Ä–∞—Å–∏–≤—ã–º –≤—ã–≤–æ–¥–æ–º
- [ ] –§—É–Ω–∫—Ü–∏—è `quick_calculate(rate_code_or_description, quantity)` - –ø–æ–∏—Å–∫ + —Ä–∞—Å—á–µ—Ç –≤ –æ–¥–Ω–æ–º –≤—ã–∑–æ–≤–µ
- [ ] –§—É–Ω–∫—Ü–∏—è `show_rate_details(rate_code)` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–∞—Å—Ü–µ–Ω–∫–∏ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏
- [ ] –§—É–Ω–∫—Ü–∏—è `compare_variants(descriptions, quantity)` - –ø–æ–∏—Å–∫ + —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—è–º
- [ ] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–ª–æ–≤–∞—Ä–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ + formatted_text –¥–ª—è –≤—ã–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è rich/tabulate –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫ —Å user-friendly —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –≤ `data/cache/query_cache.json` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `src/utils/agent_helpers.py` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 4.3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞ –≤ –ø—Ä–æ–µ–∫—Ç

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 4.1, 4.2
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 6.1, 6.3 (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Claude Code –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–æ–≤–æ–π –±–∞–∑–æ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `.claude/project_knowledge.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Claude Code
- [ ] –£–∫–∞–∑–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- [ ] –ü—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
- [ ] –û–ø–∏—Å–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ (—Å—Ö–µ–º–∞ –∏–º–ø–æ—Ä—Ç–æ–≤)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –î–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É: —Å–Ω–∞—á–∞–ª–∞ build_database.py, –∑–∞—Ç–µ–º —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∞–≥–µ–Ω—Ç–∞
- [ ] –ü—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ–∂–∏–¥–∞–µ–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –£–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –∞–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ë–î

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `.claude/project_knowledge.md` (–Ω–æ–≤—ã–π)
- `.claude/` (–Ω–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)

---

## ‚úÖ –§–ê–ó–ê 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ó–∞–¥–∞—á–∞ 5.1: –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚úÖ –ù–µ—Ç (–º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å—Ä–∞–∑—É)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –õ—é–±—ã–µ –∑–∞–¥–∞—á–∏ –§–∞–∑ 2-4 (–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö)

**–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–∂–∏–¥–∞–µ–º—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `tests/test_data_samples.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–µ–π—Å–æ–≤
- [ ] –ö–∞–∂–¥—ã–π –∫–µ–π—Å –∏–º–µ–µ—Ç –ø–æ–ª—è: user_query, expected_rate_code, expected_unit_type, expected_cost_range
- [ ] –ú–∏–Ω–∏–º—É–º 20 —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
  - –¢–æ—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç
  - –ù–µ–ø–æ–ª–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è
  - –° –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
  - –° —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏ (–ì–ö–õ/–≥–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω)
  - –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä–∞—Å—á–µ—Ç
  - –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
  - –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é
- [ ] –î–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ (–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏ –ì–ö–õ 150 –º¬≤) —É–∫–∞–∑–∞–Ω—ã —Ç–æ—á–Ω—ã–µ –æ–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã: –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–∞—Å—Ü–µ–Ω–∫–∏, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –æ–±—ä–µ–º—ã

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `tests/test_data_samples.json` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 5.2: –¢–µ—Å—Ç—ã –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 2.4 (–Ω—É–∂–µ–Ω SearchEngine –∏ –ë–î)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 5.3, 5.4 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–µ—Å—Ç—ã —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª–µ–π)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã SearchEngine

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `tests/test_search.py` —Å–æ–¥–µ—Ä–∂–∏—Ç pytest —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç `test_search_exact_match()` - –ø–æ–∏—Å–∫ –ø–æ —Ç–æ—á–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—Ü–µ–Ω–∫—É
- [ ] –¢–µ—Å—Ç `test_search_partial_match()` - —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- [ ] –¢–µ—Å—Ç `test_search_with_filters()` - —Ñ–∏–ª—å—Ç—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- [ ] –¢–µ—Å—Ç `test_search_no_results()` - –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
- [ ] –¢–µ—Å—Ç `test_search_by_code()` - –ø–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ—Å—Ç `test_search_ranking()` - –±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–º–µ—é—Ç –ª—É—á—à–∏–π rank
- [ ] –¢–µ—Å—Ç `test_fts_query_preparation()` - FTS –∑–∞–ø—Ä–æ—Å—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pytest fixture –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã (–Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞)

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `tests/test_search.py` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 5.3: –¢–µ—Å—Ç—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.2, 2.4 (–Ω—É–∂–µ–Ω CostCalculator –∏ –ë–î)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 5.2, 5.4 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–µ—Å—Ç—ã —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª–µ–π)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `tests/test_calculator.py` —Å–æ–¥–µ—Ä–∂–∏—Ç pytest —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç `test_calculate_basic()` - –±–∞–∑–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç –¥–ª—è –∏–∑–≤–µ—Å—Ç–Ω–æ–π —Ä–∞—Å—Ü–µ–Ω–∫–∏
- [ ] –¢–µ—Å—Ç `test_calculate_gkl_150m2()` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (10-05-001-01, 150 –º¬≤)
- [ ] –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 207,480.27 —Ä—É–±. (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –∫–æ–ø–µ–µ–∫)
- [ ] –¢–µ—Å—Ç `test_calculate_with_resources()` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º
- [ ] –¢–µ—Å—Ç `test_calculate_invalid_rate()` - –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ä–∞—Å—Ü–µ–Ω–∫–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
- [ ] –¢–µ—Å—Ç `test_calculate_zero_quantity()` - quantity=0 –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
- [ ] –¢–µ—Å—Ç `test_calculate_negative_quantity()` - –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—ä–µ–º –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
- [ ] –¢–µ—Å—Ç `test_rounding()` - –≤—Å–µ –¥–µ–Ω–µ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∫—Ä—É–≥–ª–µ–Ω—ã –¥–æ 2 –∑–Ω–∞–∫–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—É–ª—ã: (total_cost / unit_quantity) * user_quantity

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `tests/test_calculator.py` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 5.4: –ë–µ–Ω—á–º–∞—Ä–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 3.2, 2.4 (–Ω—É–∂–Ω—ã –≤—Å–µ –º–æ–¥—É–ª–∏ –ø–æ–∏—Å–∫–∞ –∏ –ë–î)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 5.2, 5.3 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–µ—Å—Ç—ã)

**–¶–µ–ª—å:** –ò–∑–º–µ—Ä–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `scripts/benchmark_search.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –±–µ–Ω—á–º–∞—Ä–∫ —Ç–µ—Å—Ç—ã
- [ ] –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è 100 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è 100 —Ä–∞—Å—á–µ—Ç–æ–≤ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- [ ] –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ/–º–µ–¥–∏–∞–Ω–Ω–æ–≥–æ/p95/p99 –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `data/logs/benchmark_YYYYMMDD.json`
- [ ] –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞: —Å—Ä–µ–¥–Ω–∏–π –ø–æ–∏—Å–∫ <100ms, —Ä–∞—Å—á–µ—Ç <50ms
- [ ] –¢–µ—Å—Ç –Ω–∞ –Ω–∞–≥—Ä—É–∑–∫—É: 1000 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–¥—Ä—è–¥ –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ—Å—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –ë–î –∏ memory usage

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `scripts/benchmark_search.py` (–Ω–æ–≤—ã–π)
- `data/logs/` (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

---

## üìö –§–ê–ó–ê 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

### –ó–∞–¥–∞—á–∞ 6.1: API Reference

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 3.2, 3.3 (–Ω—É–∂–µ–Ω –≥–æ—Ç–æ–≤—ã–π API)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 4.1, 6.2, 6.3 (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∏—à–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

**–¶–µ–ª—å:** –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `docs/api_reference.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API
- [ ] –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞: –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- [ ] –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ç–∏–ø, –æ–ø–∏—Å–∞–Ω–∏–µ, default), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- [ ] –†–∞–∑–¥–µ–ª—ã: Database, ETL, Search, Utils
- [ ] –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞—á:
  - –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫
  - –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
  - –ö–∞–∫ —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–∞—Å—Ü–µ–Ω–∫–∏
  - –ö–∞–∫ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ë–î
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î (—Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã, —Å–≤—è–∑–∏)
- [ ] FAQ: —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ —Ä–µ—à–µ–Ω–∏—è

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `docs/api_reference.md` (–Ω–æ–≤—ã–π)

---

### –ó–∞–¥–∞—á–∞ 6.2: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚úÖ –ù–µ—Ç (–º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å—Ä–∞–∑—É)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –õ—é–±—ã–µ –∑–∞–¥–∞—á–∏ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

**–¶–µ–ª—å:** –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `requirements.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã —Å –≤–µ—Ä—Å–∏—è–º–∏
- [ ] –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  - `pandas>=2.0.0` (—Ä–∞–±–æ—Ç–∞ —Å Excel –∏ DataFrames)
  - `openpyxl>=3.1.0` (—á—Ç–µ–Ω–∏–µ Excel —Ñ–∞–π–ª–æ–≤)
  - `pytest>=7.0.0` (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - `tqdm>=4.65.0` (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã)
  - `rich>=13.0.0` (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞)
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞:
  - `tabulate>=0.9.0` (—Ç–∞–±–ª–∏—Ü—ã)
- [ ] –í—Å–µ –≤–µ—Ä—Å–∏–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å Python 3.10+
- [ ] –§–∞–π–ª `requirements-dev.txt` –¥–ª—è dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: pytest, black, flake8, mypy
- [ ] README —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ: `pip install -r requirements.txt`

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `requirements.txt` (–Ω–æ–≤—ã–π)
- `requirements-dev.txt` (–Ω–æ–≤—ã–π)
- `README.md` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

---

### –ó–∞–¥–∞—á–∞ 6.3: README –ø—Ä–æ–µ–∫—Ç–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 3.2, 3.3, 6.1 (–Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –≤–µ—Å—å API)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 6.2, 6.4 (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

**–¶–µ–ª—å:** –ù–∞–ø–∏—Å–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `README.md` —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Å—Ö–µ–º–∞ –í–∞—Ä–∏–∞–Ω—Ç 5 –∏–∑ estimates_search_architecture.md)
  - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (Python 3.10+, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
  - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Quick Start):
    1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    2. –°–±–æ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    3. –ü–µ—Ä–≤—ã–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∏–∑ API reference)
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–µ—Ä–µ–≤–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π)
  - –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
  - Roadmap (–±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)
  - –õ–∏—Ü–µ–Ω–∑–∏—è –∏ –∞–≤—Ç–æ—Ä—ã
- [ ] –ü—Ä–∏–º–µ—Ä—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã –≤ –≤–∏–¥–µ code blocks —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- [ ] –ï—Å—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç/–ø—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ–∏—Å–∫–∞

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `README.md` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ)

---

### –ó–∞–¥–∞—á–∞ 6.4: .gitignore –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Git

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚úÖ –ù–µ—Ç (–º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å—Ä–∞–∑—É)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –õ—é–±—ã–µ –∑–∞–¥–∞—á–∏ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

**–¶–µ–ª—å:** –ò—Å–∫–ª—é—á–∏—Ç—å –∏–∑ Git –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `.gitignore` —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - `data/processed/*.db` (–ë–î –Ω–µ –∫–æ–º–º–∏—Ç–∏–º)
  - `data/cache/*.json` (–∫—ç—à –Ω–µ –∫–æ–º–º–∏—Ç–∏–º)
  - `data/logs/*.log` (–ª–æ–≥–∏ –Ω–µ –∫–æ–º–º–∏—Ç–∏–º)
  - `__pycache__/`, `*.pyc`, `*.pyo` (Python –∫—ç—à)
  - `.pytest_cache/`, `.coverage` (–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Ç–µ—Å—Ç–æ–≤)
  - `.venv/`, `venv/`, `env/` (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
  - `.DS_Store` (macOS)
  - `*.swp`, `*~` (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤)
- [ ] –ò—Å—Ö–æ–¥–Ω—ã–π Excel —Ñ–∞–π–ª `data/raw/*.xlsx` –í–ö–õ–Æ–ß–ï–ù –≤ Git (—ç—Ç–æ source of truth)
- [ ] –§–∞–π–ª—ã `.gitkeep` –≤ –ø—É—Å—Ç—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö –í–ö–õ–Æ–ß–ï–ù–´ –≤ Git

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `.gitignore` (–Ω–æ–≤—ã–π –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

---

## üéØ –§–ê–ó–ê 7: –ó–∞–ø—É—Å–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ó–∞–¥–∞—á–∞ 7.1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ ETL

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á–∏ 2.4 (–Ω—É–∂–µ–Ω –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ù–µ—Ç (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π —ç—Ç–∞–ø –≤–∞–ª–∏–¥–∞—Ü–∏–∏)

**–¶–µ–ª—å:** –°–æ–±—Ä–∞—Ç—å –ë–î –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ Excel —Ñ–∞–π–ª–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –ó–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç: `python scripts/build_database.py --input data/raw/–°onstruction_Works_Rate_Schedule_Some_groups_17102025.xlsx --output data/processed/estimates.db`
- [ ] –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `data/processed/estimates.db`
- [ ] –í –ë–î –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤—Å–µ 4 —Ä–∞—Å—Ü–µ–Ω–∫–∏ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ (01-01-001-01, 07-05-023-02, 10-05-001-01, 10-06-037-02)
- [ ] FTS –∏–Ω–¥–µ–∫—Å —Å–æ–∑–¥–∞–Ω –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ü–µ–Ω–æ–∫, —Ä–µ—Å—É—Ä—Å–æ–≤, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –†–∞–∑–º–µ—Ä –ë–î ~1-5MB (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Å 4 —Ä–∞—Å—Ü–µ–Ω–∫–∞–º–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏: `sqlite3 estimates.db "PRAGMA integrity_check;"` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "ok"

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `data/processed/estimates.db` (—Å–æ–∑–¥–∞–Ω)
- `data/logs/etl_*.log` (—Å–æ–∑–¥–∞–Ω)

---

### –ó–∞–¥–∞—á–∞ 7.2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –≤—Ä—É—á–Ω—É—é

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 7.1 (–Ω—É–∂–µ–Ω SearchEngine –∏ –ë–î)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 7.3 (–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ Python REPL

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç: `from src.search.search_engine import SearchEngine`
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `engine = SearchEngine('data/processed/estimates.db')`
- [ ] –ü–æ–∏—Å–∫ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫: `results = engine.search("–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏ –≥–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω")` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—Ü–µ–Ω–∫–∏ 10-05-001-01 –∏ 10-06-037-02
- [ ] –ü–æ–∏—Å–∫ –ø–æ –∫–æ–¥—É: `result = engine.search_by_code("10-05-001-01")` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–∞—Å—Ü–µ–Ω–∫—É
- [ ] –§–∏–ª—å—Ç—Ä –ø–æ –µ–¥–∏–Ω–∏—Ü–µ: `results = engine.search("–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏", filters={'unit_type': '–º2'})` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ü–µ–Ω–∫–∏ –≤ –º¬≤
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (rank)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- –ù–∏–∫–∞–∫–∏—Ö (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞)

---

### –ó–∞–¥–∞—á–∞ 7.3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.2, 7.1 (–Ω—É–∂–µ–Ω CostCalculator –∏ –ë–î)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∞ 7.2 (–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –ò–º–ø–æ—Ä—Ç: `from src.search.cost_calculator import CostCalculator`
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: `calc = CostCalculator('data/processed/estimates.db')`
- [ ] –†–∞—Å—á–µ—Ç –¥–ª—è –ì–ö–õ 150–º¬≤: `result = calc.calculate("10-05-001-01", 150)`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
  - `result['calculated_total']` == 207480.27 (¬± 0.01)
  - `result['cost_per_unit']` == 1383.20 (¬± 0.01)
  - `result['rate_info']['rate_full_name']` —Å–æ–¥–µ—Ä–∂–∏—Ç "–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫ –∏–∑ –≥–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤"
- [ ] –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞: `breakdown = calc.get_detailed_breakdown("10-05-001-01", 150)`
- [ ] –í breakdown –µ—Å—Ç—å –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (17 –ø–æ–∑–∏—Ü–∏–π)
- [ ] –°—É–º–º—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ —Ä–∞–±–æ—Ç —Å—Ö–æ–¥—è—Ç—Å—è —Å –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- –ù–∏–∫–∞–∫–∏—Ö (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞)

---

### –ó–∞–¥–∞—á–∞ 7.4: –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 5.2, 5.3, 7.1 (–Ω—É–∂–Ω—ã —Ç–µ—Å—Ç—ã –∏ –ë–î)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ù–µ—Ç (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —ç—Ç–∞–ø –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã)

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –ó–∞–ø—É—â–µ–Ω pytest: `pytest tests/ -v`
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –≤ `test_search.py` PASSED
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –≤ `test_calculator.py` PASSED
- [ ] –¢–µ—Å—Ç –Ω–∞ —Ä–∞—Å—á–µ—Ç –ì–ö–õ 150–º¬≤ PASSED (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –¥–æ –∫–æ–ø–µ–µ–∫)
- [ ] Coverage (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω): `pytest --cov=src tests/` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç >80%
- [ ] –ù–µ—Ç warnings –∏ deprecation notices
- [ ] –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ <10 —Å–µ–∫—É–Ω–¥

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- –ù–∏–∫–∞–∫–∏—Ö (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞)

---

### –ó–∞–¥–∞—á–∞ 7.5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç —Å Claude Code Agent

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 4.1, 4.2, 4.3, 7.1 (–Ω—É–∂–µ–Ω –∞–≥–µ–Ω—Ç –∏ –ë–î)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ù–µ—Ç (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∞–≥–µ–Ω—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –ó–∞–≥—Ä—É–∂–µ–Ω –ø—Ä–æ–º–ø—Ç –∏–∑ `agents/estimates_agent_prompt.md` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç Claude Code
- [ ] –ó–∞–ø—Ä–æ—Å 1: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ 150 –º¬≤ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫ –∏–∑ –ì–ö–õ –≤ –æ–¥–∏–Ω —Å–ª–æ–π?"
  - Claude –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SearchEngine –¥–ª—è –ø–æ–∏—Å–∫–∞
  - Claude –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CostCalculator –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞
  - –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞—Å—Ü–µ–Ω–∫—É 10-05-001-01
  - –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞: 207,480.27 —Ä—É–±.
  - –û—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ—è—Å–Ω–µ–Ω–∏—è –∏ —Ä–∞–∑–±–∏–≤–∫—É
- [ ] –ó–∞–ø—Ä–æ—Å 2: "–°—Ä–∞–≤–Ω–∏ –æ–¥–Ω–æ—Å–ª–æ–π–Ω—ã–µ –∏ –¥–≤—É—Ö—Å–ª–æ–π–Ω—ã–µ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏ –¥–ª—è 100 –º¬≤"
  - Claude –Ω–∞—Ö–æ–¥–∏—Ç –æ–±–µ —Ä–∞—Å—Ü–µ–Ω–∫–∏ (10-05-001-01 –∏ 10-06-037-02)
  - Claude –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RateComparator
  - –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∞–±–ª–∏—Ü—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
  - –£–∫–∞–∑–∞–Ω–∞ —Ä–∞–∑–Ω–∏—Ü–∞ –≤ —Ü–µ–Ω–µ
- [ ] –ó–∞–ø—Ä–æ—Å 3: "–ö–∞–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –≤—Ö–æ–¥—è—Ç –≤ 10-05-001-01?"
  - Claude –≤—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Ä–∞–∑–±–∏–≤–∫—É –ø–æ 17 —Ä–µ—Å—É—Ä—Å–∞–º
  - –£–∫–∞–∑–∞–Ω—ã –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- [ ] –í—Å–µ –æ—Ç–≤–µ—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã, –ø–æ–Ω—è—Ç–Ω—ã, —Ö–æ—Ä–æ—à–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω—ã

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- –ù–∏–∫–∞–∫–∏—Ö (—Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞)

---

## üöÄ –§–ê–ó–ê 8: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ó–∞–¥–∞—á–∞ 8.1: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á–∏ 3.1 (–Ω—É–∂–µ–Ω SearchEngine)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 8.2, 8.3, 8.4 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è)

**–¶–µ–ª—å:** –£—Å–∫–æ—Ä–∏—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `src/utils/cache_manager.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `QueryCache`
- [ ] –ö—ç—à —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ JSON —Ñ–∞–π–ª `data/cache/query_cache.json`
- [ ] –ö–ª—é—á –∫—ç—à–∞: hash(query + filters)
- [ ] TTL (time to live): 1 —á–∞—Å
- [ ] –ú–µ—Ç–æ–¥ `get(key)` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∫—ç—à–∞
- [ ] –ú–µ—Ç–æ–¥ `set(key, value)` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ SearchEngine (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ `use_cache=True`)
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: cache hit rate –≤ –ª–æ–≥–∞—Ö

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `src/utils/cache_manager.py` (–Ω–æ–≤—ã–π)
- `src/search/search_engine.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

---

### –ó–∞–¥–∞—á–∞ 8.2: –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚úÖ –ù–µ—Ç (–º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 8.1, 8.3, 8.4 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è)

**–¶–µ–ª—å:** –õ—É—á—à–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–ª–æ–≤–æ—Ñ–æ—Ä–º—ã (–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫ ‚Üí –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∞/–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏/–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ pymorphy3: `pip install pymorphy3`
- [ ] –§–∞–π–ª `src/utils/morphology.py` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- [ ] –§—É–Ω–∫—Ü–∏—è `lemmatize(text)` –ø—Ä–∏–≤–æ–¥–∏—Ç —Å–ª–æ–≤–∞ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `fts_config.prepare_fts_query()`: –∑–∞–ø—Ä–æ—Å –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ FTS
- [ ] –¢–µ—Å—Ç—ã: "–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–æ–∫" –Ω–∞—Ö–æ–¥–∏—Ç "–ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∞", "–≥–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω–Ω—ã—Ö" –Ω–∞—Ö–æ–¥–∏—Ç "–≥–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω–Ω—ã–π"
- [ ] –£—á–µ—Ç —Å—Ç–æ–ø-—Å–ª–æ–≤ (–ø—Ä–µ–¥–ª–æ–≥–∏, —Å–æ—é–∑—ã –Ω–µ –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è)

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `src/utils/morphology.py` (–Ω–æ–≤—ã–π)
- `src/database/fts_config.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- `requirements.txt` (–¥–æ–±–∞–≤–∏—Ç—å pymorphy3)

---

### –ó–∞–¥–∞—á–∞ 8.3: –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Excel

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 3.2 (–Ω—É–∂–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞/—Ä–∞—Å—á–µ—Ç–∞)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 8.1, 8.2, 8.4 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è)

**–¶–µ–ª—å:** –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `src/utils/exporter.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `ResultExporter`
- [ ] –ú–µ—Ç–æ–¥ `export_to_excel(results, filename)` —Å–æ–∑–¥–∞–µ—Ç Excel —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞/—Ä–∞—Å—á–µ—Ç–∞
- [ ] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∂–∏—Ä–Ω—ã–º, –¥–µ–Ω–µ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á
- [ ] –õ–∏—Å—Ç "–†–∞—Å—á–µ—Ç" —Å–æ–¥–µ—Ä–∂–∏—Ç: —Ä–∞—Å—Ü–µ–Ω–∫—É, –æ–±—ä–µ–º, —Å—Ç–æ–∏–º–æ—Å—Ç—å
- [ ] –õ–∏—Å—Ç "–†–µ—Å—É—Ä—Å—ã" —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Ä–∞–∑–±–∏–≤–∫—É
- [ ] –õ–∏—Å—Ç "–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ" —Å–æ–¥–µ—Ä–∂–∏—Ç: –¥–∞—Ç—É —Ä–∞—Å—á–µ—Ç–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è openpyxl –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `data/exports/`

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `src/utils/exporter.py` (–Ω–æ–≤—ã–π)
- `data/exports/` (–Ω–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)

---

### –ó–∞–¥–∞—á–∞ 8.4: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø—Ä–æ—Ç–æ—Ç–∏–ø)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ó–∞–¥–∞—á 3.1, 3.2 (–Ω—É–∂–Ω—ã API –º–æ–¥—É–ª–∏)
**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:** –ó–∞–¥–∞—á–∏ 8.1, 8.2, 8.3 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è)

**–¶–µ–ª—å:** –ü—Ä–æ—Å—Ç–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- [ ] –§–∞–π–ª `app.py` —Å–æ–¥–µ—Ä–∂–∏—Ç Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∏–ª–∏ FastAPI)
- [ ] –ú–∞—Ä—à—Ä—É—Ç `/` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ñ–æ—Ä–º–æ–π –ø–æ–∏—Å–∫–∞
- [ ] –ú–∞—Ä—à—Ä—É—Ç `/search` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç query, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- [ ] –ú–∞—Ä—à—Ä—É—Ç `/calculate` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç rate_code –∏ quantity, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—á–µ—Ç
- [ ] –ü—Ä–æ—Å—Ç–æ–π HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ `templates/index.html`
- [ ] JavaScript –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [ ] –ó–∞–ø—É—Å–∫: `python app.py` ‚Üí –¥–æ—Å—Ç—É–ø –ø–æ http://localhost:5000
- [ ] README –æ–±–Ω–æ–≤–ª–µ–Ω —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∑–∞–ø—É—Å–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
- `app.py` (–Ω–æ–≤—ã–π)
- `templates/index.html` (–Ω–æ–≤—ã–π)
- `static/style.css` (–Ω–æ–≤—ã–π)
- `requirements.txt` (–¥–æ–±–∞–≤–∏—Ç—å Flask)

---

## üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —É—Å–ø–µ—Ö–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [ ] –ë–î —Å–æ–∑–¥–∞–Ω–∞ –∏–∑ Excel —Ñ–∞–π–ª–∞ –∑–∞ <5 –º–∏–Ω—É—Ç
- [ ] –ü–æ–∏—Å–∫ —Ä–∞—Å—Ü–µ–Ω–∫–∏ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –∑–∞–Ω–∏–º–∞–µ—Ç <100ms
- [ ] –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –∫–æ–ø–µ–µ–∫
- [ ] –ê–≥–µ–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ 95%+ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ test_data_samples.json
- [ ] –í—Å–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [ ] –ö–æ–¥ –ø–æ–∫—Ä—ã—Ç docstrings (–≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã)
- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç PEP8 (–ø—Ä–æ–≤–µ—Ä–∫–∞ flake8)
- [ ] –ù–µ—Ç critical/high —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ safety)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è
- [ ] –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–∞—Å—Ü–µ–Ω–æ–∫, —Ñ—É–Ω–∫—Ü–∏–π)

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
- [ ] –û—Ç–≤–µ—Ç –ø–æ–Ω—è—Ç–µ–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –ü—Ä–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏ –∞–≥–µ–Ω—Ç –∑–∞–¥–∞–µ—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ª–µ–≥–∫–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å/—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å

---

## üéì –û–±—É—á–µ–Ω–∏–µ –∏ –∑–Ω–∞–Ω–∏—è

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å:

1. **SQLite FTS5:**
   - –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å FTS –∏–Ω–¥–µ–∫—Å—ã
   - –°–∏–Ω—Ç–∞–∫—Å–∏—Å MATCH –∑–∞–ø—Ä–æ—Å–æ–≤
   - –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

2. **ETL –ø—Ä–æ—Ü–µ—Å—Å—ã:**
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel
   - Batch insert –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å –∏ rollback

3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º:**
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ concerns: storage / search / calculation
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
   - –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

4. **–†–∞–±–æ—Ç–∞ —Å Claude Code:**
   - –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ
   - –ü—Ä–æ–º–ø—Ç-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AI –≤ workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

5. **Best practices:**
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (unit, integration, benchmark)
   - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Python –ø—Ä–æ–µ–∫—Ç–æ–≤

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∑–∞–¥–∞—á–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏)
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã - –∫–æ–º–º–∏—Ç –≤ Git —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö (ETL, –ø–æ–∏—Å–∫, —Ä–∞—Å—á–µ—Ç—ã)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å –ø–æ–ª–Ω–æ–π –ë–î (740K —Å—Ç—Ä–æ–∫), –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å –ø—Ä–∏–º–µ—Ä–æ–º

---

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—á–∞—Ç—å —Å –§–∞–∑—ã 1, –ó–∞–¥–∞—á–∞ 1.1
